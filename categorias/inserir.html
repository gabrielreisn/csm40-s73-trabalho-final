<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="/src/Params.js"></script>
  <script src="/src/Categorias.js"></script>
  <script src="/src/Categoria.js"></script>
  <script src="/src/Produtos.js"></script>
  <script src="/src/Produto.js"></script>
  <script src="/src/Fetch.js"></script>
  <script src="/src/Loja.js"></script>
  <script src="/src/CategoriaForm.js"></script>
  <script src="/src/Pedidos.js"></script>
  <script src="/src/Pedido.js"></script>
  <script src="/src/ListaPedidos.js"></script>
  <script src="/src/Items.js"></script>
  <script src="/src/Item.js"></script>
  <link rel="stylesheet" href="/css/global.css">

</head>
<body>


  <div class="modal" style="display:inline-block;">
    <div class="modal-content">
      <form >
        <a href="/categorias/">voltar</a>
        <br><br>
        <input type="hidden" id="id_categoria">
        <input type="text" id="nome_categoria"  placeholder="Nome">
        <input type="submit" class="input-submit color-blue" id="insert" value="INSERIR">
      </form>
    </div>
  </div>
  <script>

    const loja = new Loja()
    const form = new CategoriaForm(loja)

    const categorias = loja.categorias()

    const insertCategoria = async event => {
      event.preventDefault()
      const categoria = await form.insert()
      const id = categoria.id
      window.location.href = "editar.html?id=" + id
    }

    const botaoInsert= document.getElementById("insert")

    botaoInsert.addEventListener("click", insertCategoria)

  </script>
</body>
</html>