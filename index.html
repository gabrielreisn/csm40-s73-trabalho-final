<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="src/Categorias.js"></script>
    <script src="src/Categoria.js"></script>
    <script src="src/Produtos.js"></script>
    <script src="src/Produto.js"></script>
    <script src="src/Fetch.js"></script>
    <script src="src/Loja.js"></script>
    <script src="src/CategoriaForm.js"></script>
    <script src="src/CategoriaList.js"></script>
    <script src="src/CategoriaController.js"></script>
    <link rel="stylesheet" href="css/global.css">
  </head>
  <body>
    <div id="Categorias">

      <div id="lista_categorias"></div>

      <button id="botao_categoria">&plus; Adicionar</button>

      <div id="modal_categoria" class="modal" style="display:none;">
        <div class="modal-content">
          <span class="close" id="close_categoria">&times;</span>
          <div>
            <h4>Categorias</h4></br></br>
            <form >
              <label>Categoria</label>
              <input type="text" id="id_categoria">
              <input type="text" id="nome_categoria"  placeholder="Nome">
              <input type="submit" class="input-submit color-blue" id="form_categoria" value="INSERIR">
            </form>
          </div>
        </div>
      </div>


      <div id="modal_categoria_update" class="modal" style="display:none;">
        <div class="modal-content">
          <span class="close" id="close_categoria_update">&times;</span>
          <div>
            <h4>Categorias</h4></br></br>
            <form >
              <label>Categoria</label>
              <input type="text" id="id_categoria_update">
              <input type="text" id="nome_categoria_update"  placeholder="Nome">
              <input type="submit" class="input-submit color-blue" id="form_categoria_update" value="ALTERAR">
              <input type="submit" class="input-submit color-red" id="form_categoria_remove" value="REMOVER">
            </form>
          </div>
        </div>
      </div>
    </div>


    <script>
      const loja = new Loja()
      const produtos = loja.produtos()
      
      const categorias = loja.categorias()
      const categoriaForm = new CategoriaForm(loja)    
      const categoriaLista = new CategoriaList("lista_categorias");
      
      const categoriaDependencies = {
        categorias,
        categoriaForm,
        categoriaLista
      }

      const categoriaController = new CategoriaController(categoriaDependencies)
      categoriaController.carregarListaCategoria()

    </script>
  </body>
</html>
